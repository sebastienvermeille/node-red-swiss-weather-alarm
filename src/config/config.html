<script type="text/javascript">
    RED.nodes.registerType('swiss-coordinate',{
        category: 'config',
        defaults: {
            name: {value:"",required:true},
            // latitude: {value:"",required:true,validate:RED.validators.number()}, // TODO: validate coordinates have to be in swiss for the service to works
            latitude: {
                value:"",required:true,validate:function(v) {
                    // var minimumLength=$("#node-input-minimumLength").length?$("#node-input-minimumLength").val():this.minimumLength;

                    // const transformation = require('transform-coordinates')
                    //
                    // const transform = transformation('EPSG:4326', '3068') // WGS 84 to Soldner Berlin
                    //
                    // console.error(transform.forward({x: 13.4105, y: 52.5034}))

                    return v.length > 1
                }
            }, // TODO: validate coordinates have to be in swiss for the service to works
            longitude: {value:"",required:true
                // validate:RED.validators.number()
            }, // would be great to have a button validate that auto fill ESRI values (avoid reevaluation at each time) https://nodered.org/docs/creating-nodes/properties
        },
        label: function() {
            return this.name;
        }
    });
</script>




<script type="text/html" data-template-name="swiss-coordinate">
    <div class="form-row">
        <label for="node-config-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-config-input-name">
    </div>
    <div class="form-row">
        <label for="node-config-input-latitude"><i class="fa fa-globe"></i> Latitude</label>
        <input type="text" id="node-config-input-latitude">
    </div>
    <div class="form-row">
        <label for="node-config-input-longitude"><i class="fa fa-globe"></i> Longitude</label>
        <input type="text" id="node-config-input-longitude">
    </div>
</script>
